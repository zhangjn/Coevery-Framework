
@using Coevery.Utility.Extensions
@using Coevery.ContentManagement
@{
    var id = Guid.NewGuid().ToString();
	ContentPart part = Model.ContentPart;
	part.SetFieldParameter("Building", new { DropdownUrl = Url.Action("BuildingDropdown", "House")});
	part.SetFieldParameter("Apartment", new { DropdownUrl = Url.Action("ApartmentDropdown", "House")});
	part.SetFieldParameter("Owner", new { DropdownUrl = Url.Action("OwnerDropdown", "House")});
}
<div class="row-fluid edit-mode">
	@using (Html.BeginFormAntiForgeryPost(Url.Action("Edit", "House" , new { id = Model.ContentItem.Id, returnUrl = Request.QueryString["ReturnUrl"]}),
		FormMethod.Post, new {@class = "form-horizontal", id = id})) {
		<fieldset>
			<legend>@T("General Information")</legend>
			<div class="data-row clearfix">
				<div class="span12 control-group">
					@Display.DisplayFieldEditor(part: Model.ContentPart, fieldName: "Building")
				</div>
			</div>
			<div class="data-row clearfix">
				<div class="span12 control-group">
					@Display.DisplayFieldEditor(part: Model.ContentPart, fieldName: "Apartment")
				</div>
			</div>
			<div class="data-row clearfix">
				<div class="span12 control-group">
					@Display.DisplayFieldEditor(part: Model.ContentPart, fieldName: "Owner")
				</div>
			</div>
			<div class="data-row clearfix">
				<div class="span12 control-group">
					@Display.DisplayFieldEditor(part: Model.ContentPart, fieldName: "HouseNumber")
				</div>
			</div>
			<div class="data-row clearfix">
				<div class="span12 control-group">
					@Display.DisplayFieldEditor(part: Model.ContentPart, fieldName: "Officer")
				</div>
			</div>
			<div class="data-row clearfix">
				<div class="span12 control-group">
					@Display.DisplayFieldEditor(part: Model.ContentPart, fieldName: "BuildingArea")
				</div>
			</div>
			<div class="data-row clearfix">
				<div class="span12 control-group">
					@Display.DisplayFieldEditor(part: Model.ContentPart, fieldName: "InsideArea")
				</div>
			</div>
			<div class="data-row clearfix">
				<div class="span12 control-group">
					@Display.DisplayFieldEditor(part: Model.ContentPart, fieldName: "PoolArea")
				</div>
			</div>
			<div class="data-row clearfix">
				<div class="span12 control-group">
					@Display.DisplayFieldEditor(part: Model.ContentPart, fieldName: "HouseStatus")
				</div>
			</div>
		</fieldset>
		<div class="data-row clearfix">
            <div class="control controls">
                <button type="submit" class="btn btn-small btn-primary">@T("Save changes")</button>
                @{
                    var returnUrl = Request.QueryString["returnUrl"];
                }
                @if (!String.IsNullOrWhiteSpace(returnUrl) && Request.IsLocalUrl(returnUrl))
                {
                    <a class="btn btn-small"  href="@returnUrl">@T("Cancel")</a>
                }
            </div>
        </div>
	}
</div>

@using (Script.Foot()) {
    <script>
        $('#@id').validate();
    </script>
}